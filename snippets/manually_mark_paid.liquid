<div id="manualPaymentModal">
  <div class="modal-content">
    <button class="close-btn" onclick="closeManualPaymentModal()">âœ•</button>
    <h3>Mark as Paid</h3>

    <p id="manualPaymentError" class="error-msg"></p>
    <p id="manualPaymentSuccess" class="success-msg"></p>

    <label for="paymentMethod">Payment Method</label>
    <select id="paymentMethod">
      <option value="Cash on Delivery">Cash on Delivery</option>
      <option value="UPI">UPI</option>
      <option value="Net Banking">Net Banking</option>
      <option value="Gold Exchange">Gold Exchange</option>

    </select>

    <label for="transactionId">Transaction ID</label>
    <input id="mark_paid_transactionId" type="text" placeholder="Enter Transaction ID" />

    <div class="modal-actions">
      <button onclick="closeManualPaymentModal()" class="btn-cancel">Cancel</button>
      <button onclick="saveManualPayment()" class="btn-save">Save</button>
    </div>
  </div>
</div>

<style>
/* Modal backdrop */
#manualPaymentModal {
  display: none;  
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 9999;
  justify-content: center; 
  align-items: center;
  font-family: var(--font-oregon), sans-serif;
}

/* Ensure loader appears above manual payment modal */
.global-loader,
.loader,
[class*="loader"],
[id*="loader"] {
  z-index: 10000 !important;
}

#manualPaymentModal.show {
  display: flex;
}

/* Modal box */
#manualPaymentModal .modal-content {
  background: #fff;
  padding: 24px;
  border-radius: 12px;
  width: 350px;
  max-width: 90%;
  position: relative;
  box-shadow: 0 6px 18px rgba(0,0,0,0.2);
  animation: scaleIn 0.25s ease;
}

/* Close button */
#manualPaymentModal .close-btn {
  position: absolute;
  top:12px;
  right:12px;
  background:none;
  border:none;
  font-size:18px;
  cursor:pointer;
}

/* Inputs & select */
#manualPaymentModal input,
#manualPaymentModal select {
  width:100%;
  padding:10px;
  margin:8px 0;
  border:1px solid #ccc;
  border-radius:6px;
  font-size:14px;
}

/* Buttons */
#manualPaymentModal .btn-save {
  background:#007bff;
  color:#fff;
  border:none;
  border-radius:6px;
  padding:8px 16px;
  cursor:pointer;
  transition: background 0.2s ease;
  text-transform: capitalize;
  font-family: var(--oregon-font);
}
#manualPaymentModal .btn-save:hover { background:#0056b3; }
#manualPaymentModal .btn-cancel {
  padding:8px 16px;
  border-radius:6px;
  border:1px solid #ccc;
  background:#f8f9fa;
  cursor:pointer;
}

/* Messages */
.error-msg { color:#d9534f; font-size:13px; margin-bottom:10px; display:none; }
.success-msg { color:#28a745; font-size:13px; margin-bottom:10px; display:none; }

@keyframes scaleIn {
  from { transform: scale(0.9); opacity:0; }
  to { transform: scale(1); opacity:1; }
}

/* Toast message styles */
.toast-message {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #28a745;
  color: white;
  padding: 12px 20px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  z-index: 10001;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  animation: slideInRight 0.3s ease;
  max-height: 50px;
  width: auto;
  min-height: 50px;
  white-space: nowrap;
}

@keyframes slideInRight {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}
</style>

<script>
// Toast message function
function showToast(message, isError = false) {
  const toast = document.createElement("div");
  toast.className = "toast-message" + (isError ? ' toast-error' : '');
  toast.innerText = message;
  if (isError) {
    toast.style.backgroundColor = '#c62828';
    toast.style.color = '#fff';
  }
  document.body.appendChild(toast);
  setTimeout(() => toast.remove(), 3000);
}

// Make toast function globally accessible
window.showToast = showToast;
</script>