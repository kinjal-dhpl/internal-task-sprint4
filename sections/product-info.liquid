{{ 'product-info.css' | asset_url | stylesheet_tag }}

<section class="info-tabs">
  <!-- Tab Buttons -->
  <div class="tab-buttons page-width ">
    <button class="tab-btn active" data-tab="product-info">
      <h2>Product Information</h2>
      <span class="tab-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24">
          <path d="M3 12h18M12 3v18" stroke="#000" stroke-width="2" stroke-linecap="round" />
        </svg>
      </span>
    </button>

    <button class="tab-btn" data-tab="policies">
      <h2>Policies</h2>
      <span class="tab-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24">
          <path d="M3 12h18M12 3v18" stroke="#000" stroke-width="2" stroke-linecap="round" />
        </svg>
      </span>
    </button>
  </div>

  <!-- Tab Content Wrapper -->
  <div class="tab-contents page-width">
    <!-- Product Information Tab -->
    <div class="faq-sec-mobile">
      <button class="tab-btn active tab-btn-mobile" data-tab="product-info">
        <h2>Product Information</h2>
        <span class="tab-icon">
          <svg
            class="toggleIcon"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="none"
            viewBox="0 0 24 24"
          >
            <path class="horizontal" d="M3 12h18" stroke="#000" stroke-width="2" stroke-linecap="round"></path>
            <path class="vertical" d="M12 3v18" stroke="#000" stroke-width="2" stroke-linecap="round"></path>
          </svg>
        </span>
      </button>
      <div id="product-info" class="tab-content active">
        {% if section.settings.top_head != blank %}
          <p class="para-id">{{ section.settings.top_head }}</p>
        {% endif %}
        <div class="product-info-grid">
          <!-- Left Box -->
          {% assign width_dimensions = product.metafields.custom.ring_width.value %}
          {% assign height_dimensions = product.metafields.custom.ring_height_size.value %}

            <div class="top-text display-flex-column">
              <h2>Dimensions</h2>
              <div class="info-box flex-grow">
                <div class="single-info">
                  <div class="single-info-head">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M12.1054 0.43993C12.2447 0.300465 12.4102 0.189827 12.5923 0.11434C12.7744 0.038854 12.9696 0 13.1667 0C13.3638 0 13.559 0.038854 13.7411 0.11434C13.9232 0.189827 14.0886 0.300465 14.2279 0.43993L17.4079 3.62143C17.5474 3.76074 17.658 3.92617 17.7335 4.10827C17.809 4.29037 17.8479 4.48556 17.8479 4.68268C17.8479 4.8798 17.809 5.07499 17.7335 5.25709C17.658 5.43919 17.5474 5.60462 17.4079 5.74393L5.74393 17.4109C5.46264 17.6921 5.08118 17.8501 4.68343 17.8501C4.28568 17.8501 3.90422 17.6921 3.62293 17.4109L0.43993 14.2294C0.300466 14.0901 0.189827 13.9247 0.11434 13.7426C0.038854 13.5605 0 13.3653 0 13.1682C0 12.9711 0.038854 12.7759 0.11434 12.5938C0.189827 12.4117 0.300466 12.2462 0.43993 12.1069L12.1054 0.43993ZM3.42793 11.2399L1.49893 13.1674L4.68193 16.3504L16.3489 4.68343L13.1674 1.50043L11.2384 3.42943L12.9844 5.17543L11.9239 6.23593L10.1779 4.48993L8.98843 5.67943L10.7344 7.42543L9.67393 8.48593L7.92793 6.73993L6.73843 7.92943L8.48443 9.67543L7.42393 10.7359L5.67793 8.98993L4.48843 10.1794L6.23443 11.9254L5.17393 12.9859L3.42793 11.2399Z" fill="#1D1D1F"/>
                    </svg>
                    <p>Ring Width</p>
                  </div>
                  <p class="single-info-value">{{ width_dimensions }}</p>
                  <p class="single-info-desc">Brand width at widest point</p>
                </div>
                <div class="single-info">
                  <div class="single-info-head">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <path d="M11 4H21V6H11V4ZM6 7V11H4V7H1L5 3L9 7H6ZM6 17H9L5 21L1 17H4V13H6V17ZM11 18H21V20H11V18ZM9 11H21V13H9V11Z" fill="#1D1D1F"/>
                    </svg>
                    <p>Ring Height</p>
                  </div>
                  <p class="single-info-value">{{ height_dimensions }}</p>
                  <p class="single-info-desc">Total height including setting</p>
                </div>
                <div class="single-info">
                  <div class="single-info-head">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <path d="M5.99919 19H17.9992L16.5742 9H7.42419L5.99919 19ZM11.9992 7C12.2825 7 12.5202 6.904 12.7122 6.712C12.9042 6.52 12.9999 6.28267 12.9992 6C12.9985 5.71733 12.9025 5.48 12.7112 5.288C12.5199 5.096 12.2825 5 11.9992 5C11.7159 5 11.4785 5.096 11.2872 5.288C11.0959 5.48 10.9999 5.71733 10.9992 6C10.9985 6.28267 11.0945 6.52033 11.2872 6.713C11.4799 6.90567 11.7172 7.00133 11.9992 7ZM14.8242 7H16.5742C17.0742 7 17.5075 7.16667 17.8742 7.5C18.2409 7.83333 18.4659 8.24167 18.5492 8.725L19.9742 18.725C20.0575 19.325 19.9035 19.8543 19.5122 20.313C19.1209 20.7717 18.6165 21.0007 17.9992 21H5.99919C5.38252 21 4.87819 20.771 4.48619 20.313C4.09419 19.855 3.94019 19.3257 4.02419 18.725L5.44919 8.725C5.53252 8.24167 5.75752 7.83333 6.12419 7.5C6.49086 7.16667 6.92419 7 7.42419 7H9.17419C9.12419 6.83333 9.08252 6.671 9.04919 6.513C9.01586 6.355 8.99919 6.184 8.99919 6C8.99919 5.16667 9.29085 4.45833 9.87419 3.875C10.4575 3.29167 11.1659 3 11.9992 3C12.8325 3 13.5409 3.29167 14.1242 3.875C14.7075 4.45833 14.9992 5.16667 14.9992 6C14.9992 6.18333 14.9825 6.35433 14.9492 6.513C14.9159 6.67167 14.8742 6.834 14.8242 7Z" fill="#1D1D1F"/>
                    </svg>
                    <p>Metal Weight</p>
                  </div>
                  <p class="single-info-value">4.2 grams</p>
                  <p class="single-info-desc">Approximate weight (varies by size)</p>
                </div>
                <div class="single-info">
                  <div class="single-info-head">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <path d="M7.69 9.91497H16.31M7.69 9.91497H2.75M7.69 9.91497L11.34 19.966M7.69 9.91497L10.09 5.98197L10.64 4.96997M16.31 9.91497H21.25M16.31 9.91497L12.66 19.966M16.31 9.91497L13.91 5.98197L13.344 4.96997M2.75 9.91497C2.75 10.335 2.829 10.755 2.986 11.151C3.198 11.686 3.628 12.179 4.486 13.164L7.953 17.14C9.35 18.742 10.048 19.544 10.876 19.838C11.0287 19.892 11.1833 19.9346 11.34 19.966M2.75 9.91497C2.75 9.49497 2.829 9.07497 2.986 8.67797C3.198 8.14297 3.628 7.65097 4.486 6.66497C4.953 6.13097 5.186 5.86397 5.456 5.65697C5.85742 5.35104 6.3226 5.13947 6.817 5.03797C7.151 4.96997 7.505 4.96997 8.214 4.96997H10.64M11.34 19.966C11.7758 20.0522 12.2242 20.0522 12.66 19.966M10.64 4.96997H13.344M21.25 9.91497C21.25 10.335 21.171 10.755 21.014 11.151C20.802 11.686 20.372 12.179 19.514 13.164L16.047 17.14C14.65 18.742 13.952 19.544 13.124 19.838C12.9726 19.8915 12.8175 19.9343 12.66 19.966M21.25 9.91497C21.25 9.49497 21.171 9.07497 21.014 8.67797C20.802 8.14297 20.372 7.65097 19.514 6.66497C19.047 6.13097 18.814 5.86397 18.544 5.65697C18.1426 5.35104 17.6774 5.13947 17.183 5.03797C16.849 4.96997 16.495 4.96997 15.786 4.96997H13.344" stroke="#1D1D1F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p>Diamon Setting</p>
                  </div>
                  <p class="single-info-value">6-prong</p>
                  <p class="single-info-desc">Classic secure setting style</p>
                </div>
              </div>
            </div>

          <!-- Right Box -->
          {% if section.settings.care_instructions != blank %}
            <div class="top-text display-flex-column">
              <h2>Care Instructions</h2>
              <div class="info-box info-list flex-grow">
                {{ section.settings.care_instructions }}
              </div>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
    <!-- Policies Tab -->
    <div class="faq-sec-mobile">
      <button class="tab-btn tab-btn-mobile" data-tab="policies">
        <h2>Policies</h2>
        <span class="tab-icon">
          <svg
            class="toggleIcon"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="none"
            viewBox="0 0 24 24"
          >
            <path class="horizontal" d="M3 12h18" stroke="#000" stroke-width="2" stroke-linecap="round"></path>
            <path class="vertical" d="M12 3v18" stroke="#000" stroke-width="2" stroke-linecap="round"></path>
          </svg>
        </span>
      </button>
      <div id="policies" class="tab-content">
        <div class="section-header">
          <p>Simple, transparent policies designed to give you complete confidence in your purchase</p>
        </div>

        {% assign policies = product.metafields.custom.policymeta.value %}

        {% if policies != blank %}
          <div class="policies-container">
            {% for policy in policies %}
              {% if policy.image != blank
                or policy.container_top_text != blank
                or policy.container_desc != blank
                or policy.container_bottom_text != blank
              %}
                <div class="policy-card">
                  <div class="policy-icon">
                    {% if policy.image != blank %}
                      {{ policy.image }}
                      <!-- if your icon is stored as SVG in a metaobject rich text -->
                    {% endif %}
                    {% if policy.container_top_text != blank %}
                      <h3>{{ policy.container_top_text }}</h3>
                    {% endif %}
                  </div>

                  {% if policy.container_desc != blank %}
                    <p class="id-unique">{{ policy.container_desc }}</p>
                  {% endif %}
                  {% if policy.container_bottom_text != blank %}
                    <p>{{ policy.container_bottom_text }}</p>
                  {% endif %}
                </div>
              {% endif %}
            {% endfor %}
          </div>
        {% endif %}

        {% if section.settings.important_info != blank %}
          <div class="important-info">
            <h2>Important information</h2>
            <div class="info-list">
              <ul>
                <li>
                  {{ section.settings.important_info }}
                </li>
              </ul>
            </div>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const buttons = document.querySelectorAll('.info-tabs .tab-btn');
    const tabs = document.querySelectorAll('.info-tabs .tab-content');

    buttons.forEach((btn) => {
      btn.addEventListener('click', () => {
        const targetId = btn.getAttribute('data-tab');
        const targetTab = document.getElementById(targetId);
        if (!targetTab) {
          return;
        }
        if (window.innerWidth <= 768) {
          // Mobile behavior: toggle open/close like FAQ
          const isOpen = btn.classList.contains('active');
          buttons.forEach((b) => b.classList.remove('active'));
          tabs.forEach((tab) => tab.classList.remove('active'));
          if (!isOpen) {
            btn.classList.add('active');
            targetTab.classList.add('active');
          }
        } else {
          buttons.forEach((b) => b.classList.remove('active'));
          tabs.forEach((tab) => tab.classList.remove('active'));
          btn.classList.add('active');
          targetTab.classList.add('active');
        }

        if (window.innerWidth <= 768) {
          buttons.forEach((button) => {
            const verticalLine = button.querySelector('.vertical');
            if (!verticalLine) return;
            verticalLine.classList.toggle('hidden', !button.classList.contains('active'));
          });
        }
      });
    });

    const syncMobileIcons = () => {
      if (window.innerWidth > 768) {
        buttons.forEach((button) => {
          const verticalLine = button.querySelector('.vertical');
          if (verticalLine) {
            verticalLine.classList.remove('hidden');
          }
        });
      }
    };

    window.addEventListener('resize', syncMobileIcons);
    syncMobileIcons();
  });
</script>

{% schema %}
{
  "name": "product_section",
  "settings": [
    {
      "type": "text",
      "id": "top_head",
      "label": "Heading"
    },
    {
      "type": "richtext",
      "id": "care_instructions",
      "label": "Care Instructions"
    },
    {
      "type": "richtext",
      "id": "important_info",
      "label": "Important Information"
    }
  ],
  "presets": [
    {
      "name": "product_section"
    }
  ]
}
{% endschema %}